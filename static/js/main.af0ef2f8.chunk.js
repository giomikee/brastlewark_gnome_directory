(this.webpackJsonpbrastlewark_gnome_directory=this.webpackJsonpbrastlewark_gnome_directory||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports=n(19)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),i=n.n(l),s=(n(14),n(15),n(1)),o=n(2),c=n(4),m=n(3),u=n(6),h=(n(16),n(5)),g=function(e){return"age"===e?"[0-9]*":""},d=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a,r;Object(s.a)(this,n),(r=t.call(this,e)).setFilterMethod=function(e){r.setState({selectedNumberFilterMethod:e.target.value})},r.handleChange=function(e){var t=e.target,n=t.name,a=t.value,l=r.state,i=l.selectedNumberFilterMethod,s=l.rangeNames,o=Object(h.a)({},n,a);r.setState(Object(h.a)({},n,a)),Object.values(s).indexOf(n)>=0&&(o[s.startRange]=r.state[s.startRange],o[s.endRange]=r.state[s.endRange],o[n]=a),("exact"===i||o[s.startRange].length>0&&o[s.endRange].length>0||0===o[s.startRange].length&&0===o[s.endRange].length)&&r.props.onChange(o)};var l=r.props.numberType,i={startRange:"".concat(l,"StartRange"),endRange:"".concat(l,"EndRange")};return r.state=(a={numberType:l,selectedNumberFilterMethod:"exact"},Object(h.a)(a,l,""),Object(h.a)(a,"rangeNames",i),Object(h.a)(a,i.startRange,""),Object(h.a)(a,i.endRange,""),a),r}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.numberType,n=e.selectedNumberFilterMethod,a=e.rangeNames,l="exact"===n?r.a.createElement("div",null,r.a.createElement("label",{htmlFor:t},"Exact ",t,": "),r.a.createElement("input",{type:"number",name:t,pattern:g(t),placeholder:"Specify an exact ".concat(t),value:this.state[t],onChange:this.handleChange})):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("label",{htmlFor:this.state[a.startRange]},t," start range:"),r.a.createElement("input",{type:"number",name:a.startRange,pattern:g(t),placeholder:"Specify the ".concat(t,"'s start range"),value:this.state[a.startRange],onChange:this.handleChange,required:!0})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:this.state[a.endRange]},t," end range:"),r.a.createElement("input",{type:"number",name:a.endRange,pattern:g(t),placeholder:"Specify the ".concat(t,"'s end range"),value:this.state[a.endRange],onChange:this.handleChange,required:!0})));return r.a.createElement("div",null,r.a.createElement("div",{className:"filter-number"},r.a.createElement("fieldset",null,r.a.createElement("legend",null,t," filter type:"),r.a.createElement("select",{name:"".concat(t,"SelectedNumberFilterMethod"),value:n,onChange:this.setFilterMethod},r.a.createElement("option",{value:"exact"},"Exact"),r.a.createElement("option",{value:"range"},"Range")),l)))}}]),n}(r.a.Component),f=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=e.target,n=t.name,r=t.value,l=Object(h.a)({},n,r);a.setState({value:r}),a.props.onChange(l)},a.state={stringType:a.props.stringType,formElementsProperties:a.props.formElementsProperties,value:""},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.stringType,n=e.formElementsProperties,a=e.value;return r.a.createElement("fieldset",null,r.a.createElement("legend",null,n.label),r.a.createElement("input",{type:"text",name:t,placeholder:n.placeholder,value:a,onChange:this.handleChange}))}}]),n}(r.a.Component),p={name:{label:"Filter by gnome name:",placeholder:"Type a gnome's name"},professions:{label:"Profession:",placeholder:"Type a gnome's profession"},hairColor:{label:"Hair color:",placeholder:"Type a gnome's hair color"},friends:{label:"Friends with:",placeholder:"Type the name of a gnome's possible friend"}},b=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).handleChange=function(e){var t=Object.assign({},a.state.filterSettings,e);a.setState({filterSettings:t}),a.props.onChange(function(e){var t=e;return Object.keys(t).forEach((function(e){return 0===t[e].length&&delete t[e]})),t}(t))},a.handleReset=function(){return a.props.onChange({})},a.state={filterSettings:{name:"",professions:"",hair_color:"",friends:"",age:"",ageStartRange:"",ageEndRange:"",weight:"",weightStartRange:"",weightEndRange:"",height:"",heightStartRange:"",heightEndRange:""}},a}return Object(o.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"bordered_box filter_gnomes"},r.a.createElement("h2",null,"Filter Gnomes"),r.a.createElement("form",{className:"filter_gnomes__container",onReset:this.handleReset},r.a.createElement(f,{stringType:"name",formElementsProperties:p.name,onChange:this.handleChange}),r.a.createElement(d,{numberType:"age",onChange:this.handleChange}),r.a.createElement(d,{numberType:"weight",onChange:this.handleChange}),r.a.createElement(d,{numberType:"height",onChange:this.handleChange}),r.a.createElement(f,{stringType:"professions",formElementsProperties:p.professions,onChange:this.handleChange}),r.a.createElement(f,{stringType:"hair_color",formElementsProperties:p.hairColor,onChange:this.handleChange}),r.a.createElement(f,{stringType:"friends",formElementsProperties:p.friends,onChange:this.handleChange}),r.a.createElement("input",{type:"reset",value:"Reset filters",className:"form_buttons"})))}}]),n}(r.a.Component),v=(n(17),{hair_color:"Hair color"}),E=["id","name","thumbnail"],y=function(e){var t=Object.keys(e),n=[];return t.forEach((function(a){if(-1===E.indexOf(a)&&e[a]&&e[a].toString().length>0){var l=r.a.createElement("div",{key:"".concat(e.id).concat(t.indexOf(a))},r.a.createElement("span",{className:"gnome__detail"},v[a]?v[a]:a," - "),Array.isArray(e[a])?function(e){var t=[];return e.forEach((function(n){return t.push(r.a.createElement("li",{key:e.indexOf(n)},n))})),r.a.createElement("ul",{className:"gnome__detail-list"},t)}(e[a]):e[a]);n.push(l)}})),n},C=function(e){var t=e.gnome;return r.a.createElement("div",{className:"gnome bordered_box"},r.a.createElement("img",{src:t.thumbnail,className:"thumbnail",alt:"thumbnail"}),r.a.createElement("h2",{className:"gnome__name"},t.name),r.a.createElement("div",{className:"gnome__other-details"},y(t)))};function O(e){var t=e.value,n=e.onClick,a=e.isDisabled,l=e.children;return r.a.createElement("button",{value:t,onClick:n,disabled:a},l)}n(18);var R=["name","hair_color"],j=["age","ageStartRange","ageEndRange"],_=[].concat(j,["weight","weightStartRange","weightEndRange","height","heightStartRange","heightEndRange"]),k=["professions","friends"],x=["name"].concat(Object(u.a)(_),["hair_color"],k),w=["ageEndRange","weightEndRange","heightEndRange"],S=function(e,t){return j.indexOf(e)>=0?parseInt(t,10):parseFloat(t)},N=function(e,t){return e.trim().toLowerCase().indexOf(t.toLowerCase())>=0},T=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).filterGnomes=function(e){var t=a.state.gnomes;x.filter((function(t){return e[t]})).forEach((function(n){t=function(e,t,n){var a=_.indexOf(t),r=n;if(R.indexOf(t)>=0)r=n.filter((function(n){return N(n[t],e[t])}));else if(a>=0&&-1===w.indexOf(t))if(t.indexOf("Range")>=0){var l=S(t,e[t]),i=_[a+1],s=S(i,e[i]),o=t.split("Start")[0];r=n.filter((function(e){return e[o]>=l&&e[o]<=s}))}else r=n.filter((function(n){return n[t]===S(t,e[t])}));else k.indexOf(t)>=0&&(r=n.filter((function(n){return n[t].filter((function(n){return N(n,e[t])})).length>0})));return r}(e,n,t)})),a.setState({visibleGnomes:t})},a.groupVisibleGnomes=function(e){var t,n=e.target.value;if("first"===n)t=[0,10];else if("last"===n){var r=a.state.visibleGnomes;t=[r.length-10,r.length]}else{var l="next"===e.target.value?10:-10;(t=a.state.sliceArguments.map((function(e){return e+l})))[0]=t[0]<0?0:t[0],t[1]=t[1]<10?10:t[1]}a.setState({sliceArguments:t})},a.state={gnomes:a.props.gnomes,visibleGnomes:a.props.gnomes,sliceArguments:[0,10]},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state,t=e.visibleGnomes,n=e.sliceArguments,a=0===n[0],l=n[1]>=t.length;return r.a.createElement("div",null,r.a.createElement(b,{onChange:this.filterGnomes}),r.a.createElement(O,{value:"first",onClick:this.groupVisibleGnomes,isDisabled:a},"First 10"),r.a.createElement(O,{value:"previous",onClick:this.groupVisibleGnomes,isDisabled:a},"Previous 10"),r.a.createElement(O,{value:"next",onClick:this.groupVisibleGnomes,isDisabled:l},"Next 10"),r.a.createElement(O,{value:"last",onClick:this.groupVisibleGnomes,isDisabled:l},"Last 10"),r.a.createElement("div",{className:"gnomes_container"},t.slice.apply(t,Object(u.a)(n)).map((function(e){return r.a.createElement(C,{gnome:e,key:e.id})}))))}}]),n}(r.a.Component),F=function(e){Object(c.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={error:null,isLoaded:!1,gnomes:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://raw.githubusercontent.com/rrafols/mobile_test/master/data.json").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,gnomes:t.Brastlewark})})).catch((function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,n=e.isLoaded,a=e.gnomes;return t?r.a.createElement("div",null,t.message):n?r.a.createElement(T,{gnomes:a}):r.a.createElement("div",null,"Loading gnomes...")}}]),n}(r.a.Component),G=function(){return r.a.createElement("h1",null,"Brastlewark Gnomes Directory")};var P=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(G,null),r.a.createElement(F,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(P,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[9,1,2]]]);
//# sourceMappingURL=main.af0ef2f8.chunk.js.map